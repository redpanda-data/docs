= FROM


## Overview

The `FROM` clause is used to specify which table or joins are required for the query/statement (e.g., `SELECT `statement) to return or obtain data.

## Syntax

There must be at least one table listed in the `FROM` clause. See the following syntax:

[source,sql]
----
query FROM table_name;
----


If two or more tables are listed in the `FROM` clause, these tables are joined using xref:oxla-reference:sql-clauses/from/join.adoc[JOIN], 
xref:oxla-reference:sql-clauses/from/right-join.adoc[RIGHT JOIN], 
xref:oxla-reference:sql-clauses/from/left-join.adoc[LEFT JOIN], or 
xref:oxla-reference:sql-clauses/from/outer-join.adoc[OUTER JOIN], depending on the operations to be queried as seen in the syntax below:

[source,sql]
----
FROM table1_name
[ { JOIN
  | LEFT JOIN
  | RIGHT JOIN
  | OUTER JOIN } table2_name
ON table1_name.column1 = table2_name.column1 ]
----

[NOTE]
====
The examples below are executed in the `public` schema, the default schema in Oxla. You can also create, insert, and display a table from other schemas - 
click xref:oxla-reference:schema.adoc[here] for more info.
====


## Example

We'll start by looking at how to use the `FROM` clause with only a single table.

There is a **client** table, and we want to know the client’s name and the city where the company is based.

[source,sql]
----
CREATE TABLE client (
  client_id int,
  client_name text,
  client_origin text
);
INSERT INTO client 
    (client_id, client_name, client_origin) 
VALUES 
    (181891,'Oxla','Poland'),
    (181892,'Google','USA'),
    (181893,'Samsung','South Korea');
----


[source,sql]
----
SELECT * FROM client;
----


It will create a table as shown below:

[source,sql]

[cols="1,1,1",options="header"]
|===
|client_id |client_name |client_origin

|181891 |Oxla |Poland
|181892 |Google |USA
|181893 |Samsung |South Korea
|===



. Run the following query:

[source,sql]
----
SELECT client_name, client_origin FROM client;
----


. You will get a list of the client’s data for a successful result:

[source,sql]

[cols="1,1",options="header"]
|===
|client_name |client_origin

|Oxla |Poland
|Google |USA
|Samsung |South Korea
|===


[TIP]
====
If two or more tables are listed in the FROM clause, please refer to these sections for more examples related to this: 
xref:oxla-reference:sql-clauses/from/join.adoc[JOIN], 
xref:oxla-reference:sql-clauses/from/right-join.adoc[RIGHT JOIN], 
xref:oxla-reference:sql-clauses/from/left-join.adoc[LEFT JOIN], or 
xref:oxla-reference:sql-clauses/from/outer-join.adoc[OUTER JOIN].
====



## FROM - Sub Queries

FROM clause is also used to specify a sub-query expression. The relation created from the sub-query is then used as a new relation on the other query.

[NOTE]
====
More than one table can be defined by separating it with a comma **(,)**.
====


### Syntax

Here is an example of the sub-query syntax that uses a FROM clause:

[source,sql]
----
SELECT X.column1, X.column2, X.column3 
FROM table_2 as X, table_1 as Y
WHERE conditions (X.column, Y.column);
----


. The sub-query in the first `FROM` clause will select the columns from the specific table using a new temporary relation (`SELECT X.column1, X.column2, X.column3 FROM` ).


. Set the tables into a new temporary relation (`table_2 as X, table_1 as Y`).


. Next, the query is evaluated, selecting only those rows from the temporary relation that fulfill the conditions stated in the `WHERE` clause.

### Example

We want to find a product whose price exceeds all categories' average budget. 

&#x20;                                                                        **product table**

[source,sql]
----
CREATE TABLE product (
  id int,
  product text,
  category text,
  price int
);
INSERT INTO product 
    (id, product, category, price) 
VALUES 
    (445747,'Court vision women’s shoes nike','Shoes', 8000),
    (445641,'Disney kids h&m','Shirt', 6500),
    (477278,'Defacto adidas','Hat', 8500),
    (481427,'Sophie shopping bag','Bag', 6500),
    (411547,'Candy skirt zara','Skirt', 6500),
    (488198,'Slim cut skirt hush puppies','Skirt', 7600);
----


[source,sql]
----
SELECT * FROM product;
----


It will create a table as shown below:

[source,sql]

[cols="1,1,1,1",options="header"]
|===
|id |product |category |price

|445747 |Court vision women’s shoes nike |Shoes |8000
|445641 |Disney kids h&m |Shirt |6500
|477278 |Defacto adidas |Hat |8500
|481427 |Sophie shopping bag |Bag |6500
|411547 |Candy skirt zara |Skirt |6500
|488198 |Slim cut skirt hush puppies |Skirt |7600
|===



&#x20;                                                                     **category table**

[source,sql]
----
CREATE TABLE category (
  categoryName text,
  budget int
);
INSERT INTO category 
    (categoryName, budget) 
VALUES 
    ('Shoes', 7000),
    ('Shirt', 9000),
    ('Bag', 8000),
    ('Skirt', 7500),
    ('Hat', 7000);
----


[source,sql]
----
SELECT * FROM category;
----


It will create a table as shown below:

[source,sql]

[cols="1,1",options="header"]
|===
|categoryName |budget

|Shoes |7000
|Shirt |9000
|Bag |8000
|Skirt |7500
|Hat |7000
|===



***

. Run the following query to know and ensure the average value of all category’s budgets:

[source,sql]
----
select avg(budget) as avgBudget from category;
----


. The average budget of all categories from the **category** table is 7700.&#x20;

[source,sql]

[cols="1",options="header"]
|===
|avgbudget

|7700.000000000000
|===



. Now, run the following query:

*   We specify the **product** table as **P** and the budget's average value from the **category** table as C.
*   We will display the product's name, category, and price.
*   We set the conditions where the product's price exceeds the budget's average value.

[source,sql]
----
select P.product, P.category, P.price from
(select avg(budget) as avgBudget from category) as C, product as P
where P.price > C.avgBudget;
----


➡️ The output will display “court vision women's shoes nike” and "Defacto adidas” as the products with a price of more than 7700.

[source,sql]

[cols="1,1,1",options="header"]
|===
|product |category |price

|court vision women`s shoes nike |shoes |8000
|Defacto adidas |hat |8500
|===

