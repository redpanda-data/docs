= rpk cluster health
:description: rpk cluster health

Queries cluster for health overview.

Health overview is created based on the health reports collected periodically
from all nodes in the cluster. A cluster is considered healthy when the
following conditions are met:

  * All cluster nodes are responding
  * All partitions have leaders
  * The cluster controller is present

If the cluster is reported as unhealthy, rpk will exit with code 10.

== Usage

[,bash]
----
rpk cluster health [flags]

Examples:

Basic usage, get cluster health information:
  rpk cluster health

Get cluster health information and watch for changes:
  rpk cluster health --watch

Get cluster health information and exit when the cluster is healthy:
  rpk cluster health --exit-when-healthy
----

== Flags

[cols="1m,1a,2a"]
|===
|*Value* |*Type* |*Description*

|-e, --exit-when-healthy |- |Exits when the cluster is back in a healthy state. Only available for --format=text.

|--format |string |Output format (json,yaml,text,wide,help) (default "text").

|-h, --help |- |Help for health.

|-w, --watch |- |Blocks and writes out all cluster health changes. Only available for --format=text.

|--config |string |Redpanda or rpk config file; default search paths are `/var/lib/redpanda/.config/rpk/rpk.yaml`, `$PWD/redpanda.yaml`, and `/etc/redpanda/redpanda.yaml`.

|-X, --config-opt |stringArray |Override rpk configuration settings; '-X help' for detail or '-X list' for terser detail.

|--profile |string |rpk profile to use.

|-v, --verbose |- |Enable verbose logging.
|===