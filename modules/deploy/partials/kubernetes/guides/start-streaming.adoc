= Start streaming

In this step, you authenticate to Redpanda with the `redpanda-twitch-account` user to create a topic called `twitch_chat`. This topic is the only one that the `redpanda-twitch-account` user has permission to access. Then, you produce messages to the topic, and consume messages from it.

. Create an alias to simplify the `rpk` commands:
+
[,bash]
----
alias rpk-topic="kubectl --namespace <namespace> exec -i -t redpanda-0 -c redpanda -- rpk topic -X brokers=redpanda-0.redpanda.redpanda.svc.cluster.local.:9093,redpanda-1.redpanda.redpanda.svc.cluster.local.:9093,redpanda-2.redpanda.redpanda.svc.cluster.local.:9093 --tls-truststore /etc/tls/certs/default/ca.crt --tls-enabled --user=redpanda-twitch-account --password=changethispassword --sasl-mechanism SCRAM-SHA-512"
----

. Create a topic called `twitch_chat`:
+
[,bash]
----
rpk-topic create twitch_chat
----
+
Example output:
+
[.no-copy]
----
TOPIC STATUS twitch_chat OK
----

. Describe the topic:
+
[,bash]
----
rpk-topic describe twitch_chat
----
+
Example output:
+
[.no-copy]
----
SUMMARY
=======
NAME        twitch_chat
PARTITIONS  1
REPLICAS    1
CONFIGS
=======
KEY                           VALUE       SOURCE
cleanup.policy                delete      DYNAMIC_TOPIC_CONFIG
compression.type              producer    DEFAULT_CONFIG
max.message.bytes             1048576     DEFAULT_CONFIG
message.timestamp.type        CreateTime  DEFAULT_CONFIG
redpanda.remote.delete        true        DEFAULT_CONFIG
redpanda.remote.read          false       DEFAULT_CONFIG
redpanda.remote.write         false       DEFAULT_CONFIG
retention.bytes               -1          DEFAULT_CONFIG
retention.local.target.bytes  -1          DEFAULT_CONFIG
retention.local.target.ms     86400000    DEFAULT_CONFIG
retention.ms                  604800000   DEFAULT_CONFIG
segment.bytes                 134217728   DEFAULT_CONFIG
segment.ms                    1209600000  DEFAULT_CONFIG
----

. Produce a message to the topic:
+
[,bash]
----
rpk-topic produce twitch_chat
----

. Type a message, then press kbd:[Enter]:
+
[,plain,role=no-copy]
----
Pandas are fabulous!
----
+
Example output:
+
[.no-copy]
----
Produced to partition 0 at offset 0 with timestamp 1663282629789.
----

. Press kbd:[Ctrl + C] to finish producing messages to the topic.

. Consume one message from the topic:
+
[,bash]
----
rpk-topic consume twitch_chat --num 1
----
+
Example output:
+
[,json,role=no-copy]
----
{
  "topic": "twitch_chat",
  "value": "Pandas are fabulous!",
  "timestamp": 1663282629789,
  "partition": 0,
  "offset": 0
}
----
