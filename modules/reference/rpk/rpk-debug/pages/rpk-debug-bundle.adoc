= rpk debug bundle
:description: rpk debug list bundle

== rpk debug bundle

`rpk debug bundle` collects environment data that can help debug and diagnose issues with a Redpanda cluster, a broker, or the machine it`s running on. It
then bundles the collected data into a zip file.

The following are the data sources that are bundled in the compressed file:

////
[cols=",",]
|===
|Data Source |Description

|Kafka metadata |Broker configs, topic configs, start/committed/end
offsets, groups, group commits.

|Data directory structure |A file describing the data directory`s
contents.

|Redpanda configuration |The Redpanda configuration file
`\'redpanda.yaml\'`. SASL credentials are stripped.

|/proc/cpuinfo |CPU information like make, core count, cache, frequency.

|/proc/interrupts |IRQ distribution across CPU cores.

|Resource usage data |CPU usage percentage, free memory available for
the Redpanda process.

|Clock drift |The ntp clock delta (using ntppool as a reference) & round
trip time.

|Kernel logs |The kernel logs ring buffer (`syslog`).

|Broker metrics |The local broker`s Prometheus metrics, fetched through
its admin API.

|DNS |The DNS info as reported by `dig`, using the hosts in
`/etc/resolv.conf`.

|Disk Usage |The disk usage for the data directory, as output by `du`.

|Redpanda logs |The Redpanda logs written to journald. If `--logs-since`
or `--logs-until` are passed, then only the logs within the resulting
time frame will be included.

|Socket info |The active sockets data output by `ss`.

|Running process info |As reported by `top`.

|Virtual memory stats |As reported by `vmstat`.

|Network config |As reported by `ip addr`.

|lspci |List the PCI buses and the devices connected to them.

|dmidecode |The DMI table contents. Only included if this command is run
as root.
|===
////

=== Usage

----
rpk debug bundle [flags]
----

=== Flags

////
[cols=",,",]
|===
|*Value* |*Type* |*Description*

|--admin-api-tls-cert |string |The certificate to be used for TLS
authentication with the Admin API.

|--admin-api-tls-enabled |- |Enable TLS for the Admin API (not necessary
if specifying custom certs).

|--admin-api-tls-key |string |The certificate key to be used for TLS
authentication with the Admin API.

|--admin-api-tls-truststore |string |The truststore to be used for TLS
communication with the Admin API.

|--admin-url |string |The address to the broker`s admin API. Defaults to
the one in the config file

|--brokers |strings |Comma-separated list of broker <ip>:<port> pairs
(for example,
` --brokers \'192.168.78.34:9092,192.168.78.35:9092,192.179.23.54:9092\' `
). Alternatively, you may set the `REDPANDA_BROKERS` environment
variable with the comma-separated list of broker addresses.

|--config |string |Redpanda config file, if not set the file will be
searched for in the default locations

|-h, --help |- |Help for bundle

|--logs-since |string |Include log entries on or newer than the
specified date. (journalctl date format, for example YYYY-MM-DD)

|--logs-until |string |Include log entries on or older than the
specified date. (journalctl date format, for example YYYY-MM-DD)

|--password |string |SASL password to be used for authentication.

|--sasl-mechanism |string |The authentication mechanism to use.
Supported values: SCRAM-SHA-256, SCRAM-SHA-512.

|--timeout |duration |How long to wait for child commands to execute
(for example\{" "} `30s`,`1.5m`) (default 10s).

|--tls-cert |string |The certificate to be used for TLS authentication
with the broker.

|--tls-enabled |- |Enable TLS for the Kafka API (not necessary if
specifying custom certs).

|--tls-key |string |The certificate key to be used for TLS
authentication with the broker.

|--tls-truststore |string |The truststore to be used for TLS
communication with the broker.

|--user |string |SASL user to be used for authentication.

|-v, --verbose |- |Enable verbose logging (default `false`).
|===
////
