= What's New in the Redpanda Operator
:description: Summary of new features and updates in the Redpanda Operator.

This topic includes new content and significant changes in the Redpanda Operator. For a complete list of all updates, see the https://github.com/redpanda-data/redpanda-operator/blob/main/operator/CHANGELOG.md[Redpanda Operator changelog^].

See also:

* xref:get-started:whats-new.adoc[]
* xref:upgrade:k-compatibility.adoc[]
* xref:upgrade:k-rolling-upgrade.adoc[]

== v2.4.0-24.3.6

=== Flux disabled by default

In version v2.3.0-24.3.1 the `chartRef.useFlux` configuration was in beta and set to `true` by default. Starting from version v2.4.0-24.3.6, the `chartRef.useFlux:false` configuration is both GA and the default.

*Breaking change:* If you depend on Flux, explicitly set `chartRef.useFlux: true` in your configuration.

Example:

[,yaml]
----
spec:
  chartRef:
    useFlux: true
----

=== Smarter Kubernetes rolling restarts and upgrades

This release improves how brokers are marked healthy, reducing unnecessary stalls during upgrades, especially under load.

=== Unified versioning for the Redpanda Operator Helm chart

Starting with Redpanda Operator v2.4.0-24.3.6, the Helm chart versioning has been streamlined so that the chart version is always identical to the Redpanda Operator's version. The `version` field now matches the `appVersion` field.

This unified versioning approach simplifies the upgrade process, ensuring that you always deploy the chart corresponding to your desired version of the Redpanda Operator.

=== Sidecar for broker decommissioning and PVC cleanup

Redpanda Operator v2.3.7-24.3.6 introduces two new sidecar-based controllers to manage broker decommissioning and persistent volume cleanup:

- xref:manage:kubernetes/k-decommission-brokers.adoc#Automated[BrokerDecommissioner]: Detects **non-graceful broker failures**, such as node crashes, and **triggers automated decommissioning**.
- xref:manage:kubernetes/k-nodewatcher.adoc[PVCUnbinder]: Ensures **persistent volume claims (PVCs) are properly unbound and cleaned up** after broker removal.

The NodeWatcher and Decommission controllers are deprecated and replaced by a single sidecar. To enable the equivalent of the controllers, set the `enabled` flag to `true` in your Redpanda custom resource. For example:

[,yaml]
----
spec:
  clusterSpec:
    statefulset:
      sideCars:
        brokerDecommissioner:
          enabled: true
          decommissionAfter: 60s
        pvcUnbinder:
          enabled: true
          unbindAfter: 60s
    rbac:
      enabled: true
----

If you previously relied on the NodeWatcher or Decommission controllers, switch to the new sidecars for improved stability and control.

== v2.3.0-24.3.1

=== Declarative schema management

The Redpanda Operator now supports declarative schema management using the Schema custom resource, starting in version v2.3.0-24.3.1. This feature allows you to:

- Define, create, and manage Avro, Protobuf, and JSON schemas declaratively.
- Enforce schema compatibility and evolution policies directly in Kubernetes.
- Automate schema lifecycle management alongside Redpanda deployments.

To learn more, see the xref:manage:kubernetes/k-schema-controller.adoc[Schema custom resource documentation].

=== Use Redpanda Operator without Flux

The Redpanda Operator now supports the `chartRef.useFlux` flag, giving you control over resource management, starting in version v2.3.0-24.3.1.

- `chartRef.useFlux: false`: Directly manages resources within the Redpanda Operator, bypassing Flux.
- `chartRef.useFlux: true`: Delegates Redpanda resource management to Flux controllers through HelmRelease resources.

NOTE: In version v2.3.0-24.3.1 the `chartRef.useFlux:false` configuration was in beta. Starting from version v2.4.0-24.3.3, this configuration is both GA and the default.

If you upgrade to v2.4.x from an older version in which Flux was already enabled, Flux will remain in use. If Flux was disabled previously, it will stay disabled after an upgrade unless you explicitly enable it.

Example:

[,yaml]
----
spec:
  chartRef:
    useFlux: false
----

== v2.2.2-24.2.4

=== Declarative user and ACL management

The Redpanda Operator now supports declarative management of users and access control lists (ACLs) using the new User custom resource, starting in version v2.2.2-24.2.4. This feature allows you to:

- Create and manage Redpanda users and their authentication settings.
- Define and manage ACLs to control access to Redpanda resources.
- Automatically reconcile changes to users and ACLs using the Redpanda Operator.

To learn more, see the xref:manage:kubernetes/security/authentication/k-user-controller.adoc[User custom resource documentation].
