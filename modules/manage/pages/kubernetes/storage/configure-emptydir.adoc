= Store the Redpanda Data Directory in emptyDir Volumes
:description: pass:q[Learn how to configure Redpanda to store the data directory in Kubernetes `emptyDir` volumes. This setup is only for development environments. Ensure you follow the prerequisites and take into consideration data safety and performance.]

You can configure Redpanda to use Kubernetes xref:./volume-types.adoc[`emptyDir`] volumes to store the Redpanda data directory.

WARNING: Use `emptyDir` volumes only for development environments. When a Pod is removed from a node for any reason, the data in the `emptyDir` volume is deleted permanently.

== Prerequisites

You must have the following:

* *Kubernetes cluster*: Ensure you have a running Kubernetes cluster, either locally, such as with minikube or kind, or remotely.

* https://kubernetes.io/docs/tasks/tools/#kubectl[*Kubectl*]: Ensure you have the `kubectl` command-line tool installed and configured to communicate with your cluster.

== Configure Redpanda to use emptyDir volumes

To store the Redpanda data directory in `emptyDir` volumes, do the following:

[tabs]
======
Helm + Operator::
+
--
.`redpanda-cluster.yaml`
[,yaml,lines=9-11]
----
apiVersion: cluster.redpanda.com/v1alpha1
kind: Redpanda
metadata:
name: redpanda
spec:
chartRef: {}
clusterSpec:
  storage:
    hostPath: "" <1>
    persistentVolume:
      enabled: false <2>
----

```bash
kubectl apply -f redpanda-cluster.yaml --namespace <namespace>
```

--
Helm::
+
--
[tabs]
====
--values::
+
.`emptydir.yaml`
[,yaml]
----
storage:
hostPath: "" <1>
persistentVolume:
  enabled: false <2>
----
+
```bash
helm upgrade --install redpanda redpanda/redpanda --namespace <namespace> --create-namespace \
--values emptydir.yaml --reuse-values
```

--set::
+
```bash
helm upgrade --install redpanda redpanda/redpanda \
  --namespace <namespace> \
  --create-namespace \
  --set storage.hostPath="" \ <1>
  --set storage.persistentVolume.enabled=false <2>
```

====
--
======

<1> Absolute path on the host to store the Redpanda data directory. If unspecified, then an `emptyDir` volume is used.
<2> Determines if a PersistentVolumeClaim (PVC) should be created for the Redpanda data directory. When set to `false`, a PVC is not created.

include::shared:partial$suggested-reading.adoc[]

- For more details about `emptyDir` volumes, see the https://kubernetes.io/docs/concepts/storage/volumes/#emptydir[Kubernetes documentation^].
- xref:reference:redpanda-helm-spec.adoc[Redpanda Helm Specification]
- xref:reference:crd.adoc[Redpanda CRD Reference]

== Next steps

xref:manage:kubernetes/monitor.adoc#infrastructure-resources[Monitor disk usage] to detect issues early, optimize performance, and plan capacity.