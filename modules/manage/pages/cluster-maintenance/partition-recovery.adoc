= Forced partition recovery
:description: Recover a single partition using the Admin API.

You can use the Redpanda Admin API to recover a partition that appears to be stuck (for example, does not accept writes). This can occur when the partition replicas have lost glossterm:Raft[] consensus, for instance if brokers in a Raft group fail, preventing the group from reaching a majority and electing a new leader. 

Forced partition recovery is carried out by promoting the best available replica to leader, allowing the partition to become available for produce and consume. Typically, Redpanda chooses the replica with the highest offset. However, this allows some potential data loss on the partition if the best available replica is out of sync, resulting in an unclean leader election. Forced partition recovery should only be used when brokers have failed beyond recovery to the point that the remaining replicas cannot form a majority. 

If you want to instead force recover partitions in bulk on a failed broker, use nodewise recovery.  

== Use the Admin API to recover a partition

Make a POST request to the `/force_replicas` endpoint:

[,bash]
----
curl -X POST http://localhost:9644/v1/debug/partitions/<namespace>/<topic>/<partition>/force_replicas \
  -d '{
    [
        { "core": 0, "node_id": 0 } 
    ]
  }'
----

The request body must include the ID of the broker and the CPU core (shard ID). If there are `n` CPU cores on the machine, the value of `core` can be within the range `[0, n-1]`. You may use a random value within the range, or the least loaded shard.
See the xref:reference:public-metrics-reference.adoc[public metrics reference] for metrics regarding CPU usage, and xref:api:ROOT:admin-api.adoc#tag/Partitions/operation/force_update_partition_replicas[Redpanda Admin API] for additional detail.

include::shared:partial$suggested-reading.adoc[]

- https://redpanda.com/blog/raft-protocol-reconfiguration-solution/[Engineering a more robust Raft group reconfiguration^]


