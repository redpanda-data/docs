= Configure a Connection to a Redpanda Cluster
:description: This topic provides instructions on configuring Redpanda Console to connect to a Redpanda cluster. The configuration ensures that Redpanda Console can communicate with your Redpanda brokers.

{description}

== Prerequisites

Ensure that you have:

- Access to your Redpanda cluster's broker URLs.
- The necessary authentication credentials if your cluster requires SASL, TLS, or other security measures.

== Configure a connection to the Kafka API in Redpanda

You must set up a connection to the Kafka API on your Redpanda brokers. This includes specifying the brokers' URLs, client identifiers, and any security protocols such as SASL or TLS.

[,yaml]
----
kafka:
  brokers:
    - <hostname>:<port>

  # Optional settings:
  # clientId: console  # The client ID you can use to identify Redpanda Console to the Redpanda cluster.

  # Specify a rack in multi-zone Redpanda clusters to reduce costs by consuming messages from local replicas:
  # rackId: "zone-a"

  # SASL configuration (optional) if your Redpanda cluster uses SASL for authentication:
  # sasl:
    # enabled: false
    # username: my-username
    # password: my-password
    # mechanism: SCRAM-SHA-256 # Options include SCRAM-SHA-256, SCRAM-SHA-512, GSSAPI, OAUTHBEARER, AWS_MSK_IAM

  # TLS configuration (optional) if your Redpanda cluster uses TLS for secure connections:
  # tls:
    # enabled: false
    # caFilepath: "/path/to/ca-cert.pem"
    # certFilepath: "/path/to/client-cert.pem"
    # keyFilepath: "/path/to/client-key.pem"
    # insecureSkipTlsVerify: false  # Set to true if you want to skip server certificate validation
----

If your Redpanda cluster uses advanced security features such as Kerberos (GSSAPI), OAuth, or AWS MSK IAM, you need to configure these settings in the `sasl` block.

For example, to configure Kerberos:

[,yaml]
----
kafka:
  sasl:
    enabled: true
    mechanism: GSSAPI
    gssapi:
      authType: KEYTAB_AUTH
      keyTabPath: "/path/to/keytab"
      kerberosConfigPath: "/path/to/krb5.conf"
      serviceName: "kafka"
      username: "my-username"
      password: "my-password"
      realm: "MY.REALM"
      enableFast: true
----

== Configure access to the Schema Registry

To enable schema management features in Redpanda Console, you must configure a connection to the Schema Registry API.

[,yaml]
----
schemaRegistry:
  enabled: true
  urls: ["<hostname>:<port>"]

  # Optional settings for authentication and TLS:
  # username: my-username
  # password: my-password
  # tls:
    # enabled: true
    # caFilepath: "/path/to/ca-cert.pem"
    # certFilepath: "/path/to/client-cert.pem"
    # keyFilepath: "/path/to/client-key.pem"
    # insecureSkipTlsVerify: false
----

NOTE: Make sure to include the URLs of _all_ brokers in the `schemaRegistry.urls` array.

[[admin]]
== Configure access to the Redpanda Admin API

Configuring a connection to the Redpanda Admin API unlocks additional features in Redpanda Console, such as:

* Viewing the current Redpanda version
* Managing data transforms
* Managing SASL-SCRAM users
* Generating debug bundles

This section details the configuration options and explains how they work together.

Here is an example configuration template with inline comments that explain each option:

[source, yaml]
----
redpanda:
  adminApi:
    enabled: true                     # Enable connection to the Admin API.
    urls: ["<hostname>:<port>"]       # Provide all broker endpoints (host:port) to ensure redundancy.
    impersonateUser: true             # Use the credentials of the logged-in user to authenticate.
    # Optional: Use static credentials if impersonation is disabled.
    # authentication:
    #   basic:
    #     username: admin             # Static username for authenticating with the Admin API.
    #     password: my-password       # Corresponding static password.
    # Startup options control connection behavior at startup.
    # startup:
    #   establishConnectionEagerly: true   # When true, tests the connection during startup.
    #   maxRetries: 5                      # Maximum number of connection retry attempts.
    #   retryInterval: 1s                  # Initial wait time between retries.
    #   maxRetryInterval: 60s              # Maximum wait time between retries.
    #   backoffMultiplier: 2               # Multiplier to increase the retry interval after each failed attempt.
    # TLS configuration secures communication with the Admin API.
    # tls:
    #   enabled: true                      # Enable TLS for secure connections.
    #   caFilepath: "/path/to/ca-cert.pem" # Path to the CA certificate for server verification.
    #   certFilepath: "/path/to/client-cert.pem" # Path to the client certificate (for mutual TLS, if required).
    #   keyFilepath: "/path/to/client-key.pem"   # Path to the client key.
    #   insecureSkipTlsVerify: false       # When false, enforces strict certificate validation.
----
NOTE: Ensure that you include the URLs of _all_ brokers in the `redpanda.adminApi.urls` array.

[cols="1a,4a"]
|===
| Option | Explanation

| **enabled**
| Activates the connection to the Redpanda Admin API. Set to `true` to enable the integration.

| **urls**
| Specifies a list of endpoints (host:port) for all brokers serving the Admin API. Including all broker URLs increases reliability and availability.

| **impersonateUser**
| When `true`, the Console uses the logged-in user's credentials to authenticate with the Admin API.

- If the impersonated user cannot be authenticated (for example, if they do not exist in Redpanda Core), the login will fail.
- If the impersonated user lacks explicit permissions, the system automatically assigns the **viewer** role.
If set to `false`, static credentials must be provided via the `authentication` block.

| **authentication (optional)**
| Provides static credentials (using basic authentication) when impersonation is not used. Uncomment and configure this block if you need to supply fixed credentials rather than using user impersonation.

| **startup (optional)**
| Configures the behavior for establishing a connection to the Admin API during Console startup.

- **establishConnectionEagerly:**
  Tests the connection immediately at startup when set to `true`.
- **maxRetries, retryInterval, maxRetryInterval, backoffMultiplier:**
  Control the retry logic if the initial connection attempt fails.

| **tls (optional)**
| Secures the connection using TLS.

- **enabled:**
  Set to `true` to activate TLS.
- **caFilepath, certFilepath, keyFilepath:**
  Provide paths to the necessary certificates and key.
- **insecureSkipTlsVerify:**
  When `false`, enforces certificate verification. Set to `true` only for testing in non-production environments.
|===

== Suggested reading

- xref:console:config/deserialization.adoc[]
- xref:console:config/security/index.adoc[]
