= Authorization
:description: Redpanda Console uses role-based access control (RBAC) to restrict system access to authorized users.
:page-aliases: console:single-sign-on/authorization.adoc, manage:security/console/authorization.adoc, console:features/role-bindings.adoc, console:reference/role-bindings.adoc, reference:console/role-bindings.adoc

[NOTE]
====
include::shared:partial$enterprise-and-console.adoc[]
====

Redpanda Console supports two authorization modes, depending on whether *user impersonation* is enabled in the authentication configuration:

[cols="1,2"]
|===
| Mode | Who Evaluates Permissions?

| **Impersonation enabled** (`impersonateUser: true`)
| Redpanda authorizes requests based on internal RBAC and ACLs.
`roleBindings` in the Redpanda Console configuration are ignored.

| **Impersonation disabled** (`impersonateUser: false`)
| Redpanda Console enforces access using static `roleBindings` from the configuration file.
Redpanda treats all requests as coming from a single service account.
|===

Even when using Redpanda Console roles, users must still have ACLs in Redpanda if they are interacting with Redpanda through the UI.

For more information about authentication options, see the xref:console:config/security/authentication.adoc[authentication configuration].

== Roles

Roles in Redpanda Console determine the actions users can perform in the UI. These roles are defined independently from Redpanda roles and only apply when impersonation is disabled. When impersonation is enabled, user permissions are derived entirely from Redpanda's internal role and ACL configuration.

For example, even if a user is assigned the Admin role in Console, they must also have the appropriate Redpanda ACLs to successfully perform protected actions.

Redpanda Console provides the following predefined roles:

[cols="1a,3a,3a", options="header"]
|===
| Role | Permissions | Limitations

| Viewer
| * View topic data (messages, configs, partitions with search filters)
* View cluster data (node configs, ACLs, service accounts, quotas)
* View consumer group data (consumer groups, group offsets, lags)
* View Schema Registry data (registered schemas with contents)
* View Kafka Connect data (configured clusters, connectors including status and configs)
| Cannot view the list of users

| Editor
| Inherits all Viewer permissions, plus:

* Manage topics (create, edit configurations, delete topics, publish and delete records)
* Manage cluster configurations (edit node or cluster settings)
* Manage consumer groups (edit or delete group offsets)
* Manage Kafka Connect (create, update, delete, start, pause, or stop connectors)
| Cannot create or remove ACLs or service accounts

| Admin
| Inherits all Editor permissions, plus:

* View and manage all users and ACLs
* xref:console:ui/generate-bundle.adoc[Generate debug bundles]
| No limitations
|===

[NOTE]
====
Redpanda Console roles are not visible in the *Roles* tab on the Security page. That section displays only roles managed by Redpanda.
====

== Grant permissions through role bindings

To assign roles when impersonation is disabled, define `roleBindings` in the Redpanda Console configuration. Each binding associates one or more users with a specific role.

.Example: Assign the Viewer role to a user
[,yaml]
----
kafka:
  brokers: ["broker1.example.com:9092"]
  sasl:
    enabled: true
    impersonateUser: false <1>
    username: "static-kafka-user"
    password: "static-pass"
    mechanism: "SCRAM-SHA-256"
authorization:
  roleBindings: <2>
  - roleName: viewer
    users:
      - loginType: basic
        name: static-kafka-user
----
<1> User impersonation is disabled, so role bindings are used for authorization.
<2> The roleBindings section maps users to roles using their login type and username.

== When impersonation is enabled

When impersonation is enabled, Redpanda Console does not evaluate any role bindings defined in the configuration. Instead, the user identity is forwarded to Redpanda, and Redpanda authorizes the request based on its own RBAC rules and access control lists (ACLs). To access Redpanda Console in this mode, the user must be registered in Redpanda and have ACLs that permit access to the Kafka API. Without these permissions, the user cannot successfully log into Redpanda Console.

To access all functionality in Redpanda Console, such as generating debug bundles, the user must also have superuser permissions assigned in Redpanda.

For detailed steps to create ACLs, see xref:manage:security/authorization/acl.adoc[].

.Example: Role bindings ignored when impersonating users
[,yaml]
----
kafka:
  brokers: ["broker1.example.com:9092"]
  sasl:
    enabled: true
    impersonateUser: true <1>
authentication:
  jwtSigningKey: secret-key
  useSecureCookies: false
  basic:
    enabled: true <2>
authorization:
  roleBindings:
  - roleName: admin
    users:
      - loginType: basic
        name: Peter <3>
----
<1> User impersonation is enabled for Kafka API requests.
<2> Users authenticate with basic authentication.
<3> This role binding has no effect because Redpanda authorizes the request.

== Multiple roles and duplicate bindings

You can assign multiple roles to the same user through role bindings. In this case, the user receives the union of all permissions associated with those roles.

For example, if a user is assigned both `viewer` and `editor`, they can perform all actions granted to each role.

.Example: User with multiple role assignments
[,yaml]
----
authorization:
  roleBindings:
  - roleName: viewer
    users:
      - loginType: OIDC
        name: john.doe@redpanda.com
  - roleName: editor
    users:
      - loginType: OIDC
        name: john.doe@redpanda.com
----

Duplicate role assignments do not cause errors. If the same role is assigned more than once to a user, the user receives the permissions only once.

== Suggested reading

* xref:manage:security/authorization/rbac.adoc[Redpanda RBAC]

